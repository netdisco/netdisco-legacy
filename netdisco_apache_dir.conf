# Apache Configuration for Netdisco
# This is applied to each virtual server

Alias /netdisco                      "/usr/local/netdisco/html/"
Alias /netdisco/                     "/usr/local/netdisco/html/"
<Location /netdisco>
	AuthType Basic
	AuthName "[netdisco] Login"
	AuthUserFile /usr/local/netdisco/users.pw
	Require valid-user
	Options +Indexes
</Location>

# Turn on MASON for .html documents
<LocationMatch "/netdisco/.*\.html$">
	PerlSetVar site "netdisco"
	SetHandler perl-script
	PerlHandler HTML::Mason::ApacheHandler
</LocationMatch>

# Decline access to mason internals
<LocationMatch "/netdisco/.*\.mc$|autohandler|dhandler">
	SetHandler perl-script
    PerlInitHandler Apache::Constants::NOT_FOUND
</LocationMatch>

